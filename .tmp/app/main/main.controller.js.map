{"version":3,"sources":["../../../client/app/main/main.controller.js"],"names":[],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAW;AAAA,MAEN,cAFM;AAIV,4BAAY,KAAZ,EAAmB,MAAnB,EAA2B,MAA3B,EAAmC;AAAA;;AACjC,WAAK,KAAL,GAAa,KAAb;AACA,WAAK,MAAL,GAAc,MAAd;AACA,WAAK,aAAL,GAAqB,EAArB;;AAEA,aAAO,GAAP,CAAW,UAAX,EAAuB,YAAW;AAChC,eAAO,aAAP,CAAqB,OAArB;AACD,OAFD;AAGD;;AAZS;AAAA;AAAA,gCAcA;AAAA;;AACR,aAAK,KAAL,CAAW,GAAX,CAAe,aAAf,EAA8B,IAA9B,CAAmC,oBAAY;AAC7C,gBAAK,aAAL,GAAqB,SAAS,IAA9B;AACA,gBAAK,MAAL,CAAY,WAAZ,CAAwB,OAAxB,EAAiC,MAAK,aAAtC;AACD,SAHD;AAID;AAnBS;AAAA;AAAA,iCAqBC;AACT,YAAI,KAAK,QAAT,EAAmB;AACjB,eAAK,KAAL,CAAW,IAAX,CAAgB,aAAhB,EAA+B,EAAE,MAAM,KAAK,QAAb,EAA/B;AACA,eAAK,QAAL,GAAgB,EAAhB;AACD;AACF;AA1BS;AAAA;AAAA,kCA4BE,KA5BF,EA4BS;AACjB,aAAK,KAAL,CAAW,MAAX,CAAkB,iBAAiB,MAAM,GAAzC;AACD;AA9BS;;AAAA;AAAA;;AAiCZ,UAAQ,MAAR,CAAe,cAAf,EACG,SADH,CACa,MADb,EACqB;AACjB,iBAAa,oBADI;AAEjB,gBAAY;AAFK,GADrB;AAMC,CAvCD","file":"main.controller.js","sourcesContent":["'use strict';\n\n(function() {\n\nclass MainController {\n\n  constructor($http, $scope, socket) {\n    this.$http = $http;\n    this.socket = socket;\n    this.awesomeThings = [];\n\n    $scope.$on('$destroy', function() {\n      socket.unsyncUpdates('thing');\n    });\n  }\n\n  $onInit() {\n    this.$http.get('/api/things').then(response => {\n      this.awesomeThings = response.data;\n      this.socket.syncUpdates('thing', this.awesomeThings);\n    });\n  }\n\n  addThing() {\n    if (this.newThing) {\n      this.$http.post('/api/things', { name: this.newThing });\n      this.newThing = '';\n    }\n  }\n\n  deleteThing(thing) {\n    this.$http.delete('/api/things/' + thing._id);\n  }\n}\n\nangular.module('dashboardApp')\n  .component('main', {\n    templateUrl: 'app/main/main.html',\n    controller: MainController\n  });\n\n})();\n"]}