{"version":3,"sources":["../../../../client/app/account/settings/settings.controller.js"],"names":[],"mappings":"AAAA;;;;;;IAEM,kB;AACJ,8BAAY,IAAZ,EAAkB;AAAA;;AAChB,SAAK,MAAL,GAAc,EAAd;AACA,SAAK,SAAL,GAAiB,KAAjB;;AAEA,SAAK,IAAL,GAAY,IAAZ;AACD;;;;mCAEc,I,EAAM;AAAA;;AACnB,WAAK,SAAL,GAAiB,IAAjB;;AAEA,UAAI,KAAK,MAAT,EAAiB;AACf,aAAK,IAAL,CAAU,cAAV,CAAyB,KAAK,IAAL,CAAU,WAAnC,EAAgD,KAAK,IAAL,CAAU,WAA1D,EACG,IADH,CACQ,YAAM;AACV,gBAAK,OAAL,GAAe,gCAAf;AACD,SAHH,EAIG,KAJH,CAIS,YAAM;AACX,eAAK,QAAL,CAAc,YAAd,CAA2B,UAA3B,EAAuC,KAAvC;AACA,gBAAK,MAAL,CAAY,KAAZ,GAAoB,oBAApB;AACA,gBAAK,OAAL,GAAe,EAAf;AACD,SARH;AASD;AACF;;;;;;AAGH,QAAQ,MAAR,CAAe,cAAf,EACG,UADH,CACc,oBADd,EACoC,kBADpC","file":"settings.controller.js","sourcesContent":["'use strict';\n\nclass SettingsController {\n  constructor(Auth) {\n    this.errors = {};\n    this.submitted = false;\n\n    this.Auth = Auth;\n  }\n\n  changePassword(form) {\n    this.submitted = true;\n\n    if (form.$valid) {\n      this.Auth.changePassword(this.user.oldPassword, this.user.newPassword)\n        .then(() => {\n          this.message = 'Password successfully changed.';\n        })\n        .catch(() => {\n          form.password.$setValidity('mongoose', false);\n          this.errors.other = 'Incorrect password';\n          this.message = '';\n        });\n    }\n  }\n}\n\nangular.module('dashboardApp')\n  .controller('SettingsController', SettingsController);\n"]}